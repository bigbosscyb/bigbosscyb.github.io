+++
date = '2025-08-06T08:42:20+08:00'
draft = false
title = 'c语言 运算符 表达式 语句'

author = "bigbosscyb"

description = "运算符和操作数组合成表达式，表达式加上分号编程语句"

categories = [
    "c","c++"
]

tags = [
    "编程基础"
]

+++

本篇只记录觉得比较重要的‼️

### 操作符

我也经常叫他运算符，常见的有：

- 算术操作符，如：+、-、*、/ 加减乘除
- 逻辑操作符，如：&& || ! 与或非
- 位移操作符，如：<< 、>> 左移右移
- 下标操作符，即：[]定位数组的某个元素
- 成员访问操作符，如：结构体变量.结构体成员、结构体指针->结构体成员
- 函数调用操作符，如：func();表示调用func函数
- 单目操作符，如：++、--、*间接访问操作符(解引用操作符)、()强制类型转换、&取地址、sizeof获取操作数的类型长度(字节为单位)
- 三目操作符，即：关系表达式1?语句1:语句2
- 关系操作符，如：> 、< 、!= 、==

#### 位移运算符

分为左移和右移，**左移与我们下意识一致：超出部分丢弃、最右侧补0；但右移有些不同**：

分为算术右移和逻辑右移，默认情况下编译器采用算术右移：

- 逻辑位移：向该方向推出指定位数、另一方向补0
- 算术位移：向该方向推出指定位数、另一方向补符号位的符号

下面通过几行代码了解一下正数和负数的右移

```c

//在内存中数据都是以二进制补码形式存储
//1的补码 0000 0000 0000 0000 0000 0000 0000 0001

//位移操作 默认采用的是算术位移 即 向右位移右侧丢弃 左侧补符号位
//故1向右位移 （0补入） 000 0000 0000 0000 0000 0000 0000 000 （1丢弃）
int a = 1;
int b = a >> 1;
int c = a >> 2;
printf("1>>1=%d\n", b);
printf("1>>2=%d\n", c);
//-1的补码=int类型的模数-abs(-1)
//-1的原码 1000 0000 0000 0000 0000 0000 0000 0001
//-1的反码 1111 1111 1111 1111 1111 1111 1111 1110
//-1的补码 1111 1111 1111 1111 1111 1111 1111 1111

//故1向右位移 （1补入） 111 1111 1111 1111 1111 1111 1111 111 （1丢弃）
int x = -1;
int y = x >> 1;
int z = x >> 2;
printf("-1>>1=%d\n", y);
printf("-1>>2=%d\n", z);
```

输出

```shell
1>>1=0
1>>2=0
-1>>1=-1
-1>>2=-1
```



### 表达式

由运算符和运算对象，组成表达式。单独的一个运算对象也叫表达式，如：4 、-4这也叫表达式；但更常见的形式还是运算符和运算对象组合，如：

4+4、(double)4、a>4、a=++4

#### 关系表达式

关系表达式的结果：要么0 要么1。

**警惕陷阱**

```c
int a = 20.1;
bool result= 1<a<10;
//result的值竟然是 true！
```

因为：运算顺序，从左到右，1先和a比较，结果为真，故结果为1；1再和10比较，结果为真。

**在c语言中0表示假，非0表示真(通常为1)**

### 语句

一条语句相当于一条计算机指令；语句通常以分号结尾，单独的一个分号称作**空语句**。

常见的语句形式` 表达式+分号`

### 分支语句

如果 条件成立 则如何如何 ;否则 则如何如何.

**警惕 悬空else**

如下代码：

```c
float a = 20.1;
float b = 20.3;

if (a==20.3f)
    if (b==20.1f)
        printf("Yes\n");
else
    printf("No\n");

//什么也不会打印
```

因为当有嵌套的if else时，else会和最近的if匹配。

**如何解决**：给每个if else后加上大括号。

```c
float a = 20.1;
float b = 20.3;

if (a == 20.3f) {
    if (b == 20.1f) {
        printf("Yes\n");
    }
} else {
    printf("No\n");
}
```

**一个建议**：在写条件语句时，关系表达式中若有常量参与，建议将常量写在左边，好处是：避免笔误。

如：

```c
float a=20.1;
if (a=5){printf("a equal 5.\n");}
//输出：a equal 5.
```

**aha**，竟然表达式成立了？为什么？因为表达式结果a是5，非零则为真，所以表达式成立。

如果这样写：

```c
float a=20.1;
if (5=a){printf("a equal 5.\n");}
//编译器会提示错误，提示我们表达式写的有问题。
```

编译器会提示我们，表达式写的有问题，我们就会发现：原来少写了一个等号。
